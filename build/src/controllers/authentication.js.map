{"version":3,"file":"authentication.js","sourceRoot":"","sources":["../../../src/controllers/authentication.ts"],"names":[],"mappings":"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"}